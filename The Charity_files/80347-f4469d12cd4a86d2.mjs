"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[80347],{582082:(e,t,r)=>{r.d(t,{KJ:()=>d,Rp:()=>l});let n={merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},own_profile:{id:14,name:"own_profile"},own_profile_no_pins:{id:45,name:"own_profile_no_pins"},other_profile:{id:15,name:"other_profile"},other_profile_no_pins:{id:46,name:"other_profile_no_pins"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"}},a={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},own_profile:{id:123,name:"own_profile_page_load"},own_profile_no_pins:{id:125,name:"own_profile_no_pins_page_load"},other_profile:{id:122,name:"other_profile_page_load"},other_profile_no_pins:{id:124,name:"other_profile_no_pins_page_load"},self_profile:{id:126,name:"self_profile_page_load"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_bulk_editor_history:{id:231,name:"sterling_bulkeditor_history_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{...n,bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},related_feed:{id:51,name:"related_feed"},related_feed_pageload:{id:127,name:"related_feed_pageload"},nux_pin_picker:{id:49,name:"nux_pin_picker_feed_render"},self_profile:{id:47,name:"self_profile"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_bulk_editor_history:{id:232,name:"sterling_bulkeditor_history_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{...n}}},i={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},o={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701,nux_pin_picker:49,related_feed:51},s=e=>{let{navigationType:t,isAuthenticated:r,segment:n,surface:o}=e,s=r?"auth":"unauth",l=i[t]?.[s]?.[o];return n&&l&&l[n]||a[t][s][o]},l=e=>{if("stopwatch"===e.type&&"name"in e)return o[e.name]||null;if("surface"===e.type){let t=s(e);return t?t.id:null}return null},d=e=>{if("stopwatch"===e.type&&"name"in e||"core_web_vitals"===e.type&&"name"in e)return e.name;let{navigationType:t,isAuthenticated:r,segment:n,surface:a}=e,i=s(e);return i?i.name:`${t}_${r?"auth":"unauth"}_${a}${n?"_"+n:""}`}},141107:(e,t,r)=>{r.d(t,{cC:()=>i,jy:()=>a,qr:()=>s,sk:()=>o});let n=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:n(e)}),i=e=>({type:"I32",value:n(e)}),o=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},776090:(e,t,r)=>{r.d(t,{N:()=>h,W:()=>f});var n=r(17433),a=r(88835),i=r(933839),o=r(856516),s=r(707286),l=r(479288),d=r(992114);let p=["client-","vendor-react-","index-","runtime-","locale-"],c=["PinResource","UserHomefeedResource","BaseSearchResource","BoardResource","UserResource","BoardFeedResource","runtime-","polyfills-","locale-","vendor-react-","vendor-react-","client-","index-","AuthDesktopHeader","DefaultPinRep","StructuredFeed","[id]-","[scope]-","[username]-","CloseupActionBarCommon-","SaveAffordance-"],u=({eventPrefix:e,endTime:t,tags:r,resourceArr:n,resourceType:a="allResources"})=>{let i=n.length;if("object"==typeof n[0]&&!Array.isArray(n[0])&&0!==i){if(p.includes(a)){let t=n[0],i={...r,swIntercepted:t.workerStart>0,workerFinalSourceType:t.workerFinalSourceType||"unknown"};(0,d.LY)(`${e}.app_start_script_${a.replace("-","")}.InFlight`,t.fetchStart,{tags:i}),(0,d.LY)(`${e}.app_start_script_${a.replace("-","")}.Complete`,t.responseEnd,{tags:i})}if(c.includes(a)){let t=n[0];(0,d.LY)(`${e}.critical_resource_${a.replace("-","")}.InFlight`,t.fetchStart,{tags:r}),(0,d.LY)(`${e}.critical_resource_${a.replace("-","")}.Complete`,t.responseEnd,{tags:r})}else{let o=[...n].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...n].sort((e,t)=>e.responseEnd-t.responseEnd),l=1,p=t/5,c=0;for(;l<=5;){let t=0;for(;c<=i-1&&o[c].fetchStart<=p*l;)c+=1,t+=1;(0,d.S0)(`${e}.${a}.fetchStartInterval${l}of5`,t,{sampleRate:.2}),l+=1}let u={InFlightP0:o[0].fetchStart,InFlightP25:o[Math.floor(i/4)].fetchStart,InFlightP50:o[2*Math.floor(i/4)].fetchStart,InFlightP75:o[3*Math.floor(i/4)].fetchStart,InFlightP100:o[i-1].fetchStart,CompleteP25:s[Math.floor(i/4)].responseEnd,CompleteP50:s[2*Math.floor(i/4)].responseEnd,CompleteP75:s[3*Math.floor(i/4)].responseEnd,CompleteP100:s[i-1].responseEnd};for(let t in u)u[t]&&(0,d.LY)(`${e}.${a}.${t}`,u[t],{tags:r})}}};var _=r(286272),m=r(331118);let g=({type:e,annotateExperiments:t,annotations:r,binaryAnnotations:d,constraintMap:g,endTime:f,imageTimings:h,isV4Logger:S,metricId:y,pwtStaticContext:v,startTime:w,traceId:k,spans:T})=>{let E,b=(0,m.Cg)();"initial_app_load"===y.navigationType&&(E=(0,i.Z)());let C=h.map(({name:e})=>e),$=b.map(e=>(0,o.p)(e,C)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},r)=>e>r.endTime||!!t&&t<r.startTime)(e,{startTime:w,endTime:f})),x=((0,n.E3)()||[]).map(e=>({name:e.name,id:(0,_.Z)(),parentId:k,startTime:e.startTime||w,endTime:e.endTime,annotationMap:{},binaryAnnotationMap:{}})).filter(e=>!(({startTime:e,endTime:t},r)=>e>r.endTime||!!t&&t<r.startTime)(e,{startTime:w,endTime:f}));return .2>Math.random()&&(({annotateExperiments:e,endTime:t,entries:r,metricId:n,pwtStaticContext:a})=>{let{isAuthenticated:i,isBot:o,isSocialBot:s,deviceType:l}=a,d=`${s&&"socialBot"||o&&"bot"||"nonbot"}.${l}.${n.surface}`,_=[d];e&&[...new Set(e)].forEach(e=>{let t=a.getExperimentGroup(e);t&&_.push(`${d}.experiment.${e}.${t}`)});let m={isAuthenticated:i,navigationType:n.navigationType,startType:a.startType},g=Array.from(r.filter(e=>"number"==typeof e.encodedBodySize&&("xmlhttprequest"===e.initiatorType&&e.encodedBodySize>=1e3||e.encodedBodySize>=1e4)&&e.responseEnd<=t)),f={img:[],css:[],script:[],xmlhttprequest:[],preloadedImages:[]};g.forEach(e=>{if("link"===e.initiatorType&&e.name.includes("i.pinimg.com"))f.preloadedImages=[...f.preloadedImages||[],e];else if(e.initiatorType in f){let t=e.initiatorType;f[t]=[...f[t]||[],e];let r=c.find(t=>e.name.includes(t));r&&(f[r]=[e]);let n=p.find(t=>e.name.includes(t));n&&(f[n]=[e])}}),_.forEach(e=>{u({eventPrefix:e,endTime:t,tags:m,resourceArr:g}),Object.entries(f).forEach(([r,n])=>{u({eventPrefix:e,endTime:t,tags:m,resourceArr:n,resourceType:r})})})})({annotateExperiments:t,endTime:f,entries:b,metricId:y,pwtStaticContext:v}),{traceId:k,startTime:w,endTime:f,spans:[...$.map(e=>(0,l.Z)(e,k)).filter(Boolean),...x].concat(T),annotationMap:(({constraintMap:e,initialNavTiming:t,annotations:r})=>({...r,...(0,s.jh)("constraint_",e),...(0,s.jh)("mark_",(0,n.gQ)()),...(0,s.jh)("browser_",{...t?(0,s.D3)(t):{},...(0,s.rX)()})}))({constraintMap:g,initialNavTiming:E,annotations:r}),binaryAnnotationMap:(0,a.rA)({initialNavTiming:E||{},type:e,annotateExperiments:t,binaryAnnotations:d,entries:b,isV4Logger:S,metricId:y,performanceResources:$,pwtEndTime:f,pwtStaticContext:v})}},f=({annotateExperiments:e,annotations:t,binaryAnnotations:r,constraintMap:n,endTime:a,imageTimings:i,isV4Logger:o=!1,metricId:s,pwtStaticContext:l,startTime:d,traceId:p,spans:c})=>({type:"COMPLETE",...g({type:"COMPLETE",annotateExperiments:e,annotations:t,binaryAnnotations:r,constraintMap:n,endTime:a,imageTimings:i,isV4Logger:o,metricId:s,pwtStaticContext:l,startTime:d,traceId:p,spans:c})}),h=({reason:e,annotateExperiments:t,annotations:r,binaryAnnotations:n,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s=!1,metricId:l,pwtStaticContext:d,startTime:p,traceId:c,spans:u})=>({type:"ABORT",reason:e,...g({type:"ABORT",annotateExperiments:t,annotations:r,binaryAnnotations:n,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s,metricId:l,pwtStaticContext:d,startTime:p,traceId:c,spans:u})})},707286:(e,t,r)=>{r.d(t,{D3:()=>i,jh:()=>s,rX:()=>o});var n=r(632712),a=r(777344);let i=e=>({...(0,n.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,workerStart:e.workerStart||0}),o=()=>{let{largestContentfulPaint:e}=(0,a.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((r,n)=>({...r,[`${e}${n}`]:t[n]}),{})},88835:(e,t,r)=>{r.d(t,{E9:()=>c,ng:()=>h,rA:()=>S});var n=r(623258),a=r(582082),i=r(17433),o=r(141107),s=r(777344),l=r(331118),d=r(896514),p=r(873874);let c=(e,t)=>(e||[]).reduce((e,r)=>{let n=t(r);return n?{...e,[`experiment.${r}`]:(0,o.sk)(n)}:e},{}),u=(e,t)=>"number"==typeof t?e(t):null,_=e=>Number(Number(e/1024).toFixed(3)),m=e=>e.reduce((e,t)=>e+t,0),g=(e,t)=>Object.keys(t).reduce((r,n)=>({...r,[`${e}${n}`]:t[n]}),{}),f=(e,t,r,n,i)=>{let s,{devicePixelRatio:p,navigator:c,innerWidth:_,innerHeight:m,performance:g}=window,{deviceMemory:f,hardwareConcurrency:h,platform:S,userAgent:y,connection:v}=c,{memory:w}=g,{appType:k,appVersion:T,browserName:E,browserVersion:b,deviceType:C,hasActiveServiceWorker:$,isAppShell:x,isAuthenticated:M,isBot:R,isSocialBot:A,locale:P,osName:I,stageName:z,startType:L,unauthId:j}=t,{navigationType:q}=e,B=null;if("initial_app_load"===q){s=1;let e=(0,d.Z)("navigation")[0]?.transferSize;B=e?parseFloat((.001*e).toFixed(1)):null}else s=4;let Z={"app.type":(0,o.jy)("desktop"===C?k||5:k||6),"app.version":(0,o.sk)(T),"browser.name":(0,o.sk)(E),"browser.version":(0,o.sk)(b),"cpu.speed":(0,o.jy)(h),"device.memory":(0,o.jy)(f),"device.type":(0,o.jy)(0),"device.typeName":(0,o.sk)(C),"device.version":(0,o.sk)("unknown"),"pwt.cause":(0,o.jy)(s),"net.effectiveType":(0,o.sk)(v?.effectiveType||null),"net.downlink":(0,o.cC)(u(e=>10*Math.round(e/10),v?.downlink)),"net.downlinkMax":(0,o.cC)(u(e=>10*Math.round(e/10),v?.downlinkMax)),"net.rtt":(0,o.cC)(u(e=>10*Math.round(e/10),v?.rtt)),"net.speed":(0,o.cC)((0,l.Hv)(r,!1)),"pwt.result":(0,o.jy)("COMPLETE"===n?1:2),"view.type":(0,o.cC)(0),"viewport.height":(0,o.cC)(m||0),"viewport.width":(0,o.cC)(_||0),devicePixelRatio:(0,o.cC)(p||0),hasActiveServiceWorker:(0,o.qr)($),isAppShell:(0,o.qr)(x),isAuthenticated:(0,o.qr)(M),isBot:(0,o.qr)(R),isSocialBot:(0,o.qr)(A),locale:(0,o.sk)(P),osName:(0,o.sk)(I),...null!==B&&{htmlResponseSize:(0,o.cC)(B)},nextHopProtocol:(0,o.sk)((0,d.Z)("navigation")[0]?.nextHopProtocol||null),platform:(0,o.sk)(S||null),profilerVersion:i?(0,o.sk)("4"):(0,o.sk)("3"),pwtActionName:i&&"id"in e?(0,o.jy)(e.id):(0,o.jy)((0,a.Rp)(e)),stageName:(0,o.sk)(z),startType:(0,o.sk)(L||""),userAgent:(0,o.sk)(y),usedJSHeapSize:(0,o.cC)(w?.usedJSHeapSize||0),totalJSHeapSize:(0,o.cC)(w?.totalJSHeapSize||0),jsHeapSizeLimit:(0,o.cC)(w?.jsHeapSizeLimit||0)};return M?Z:{...Z,unauthId:(0,o.sk)(j)}},h=({annotateExperiments:e,metricId:t,pwtStaticContext:r,binaryAnnotations:n={},performanceResourceTimings:a=[],type:i})=>({...c(e,r.getExperimentGroup),...f(t,r,a,i),...n,stopwatchVersion:(0,o.jy)(1)}),S=({type:e,annotateExperiments:t,binaryAnnotations:r={},entries:a,isV4Logger:l,metricId:d,performanceResources:u,pwtEndTime:h,pwtStaticContext:S,initialNavTiming:y})=>({...r,...(e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],r={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},n={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:a,startTime:i}=e[0].timing,o=a||i;r.timeSecond1.start=o,r.timeSecond1.end=o+1e3,r.timeSecond2.start=o+1e3,r.timeSecond2.end=o+2e3,r.timeSecond3.start=o+2e3,r.timeSecond3.end=o+3e3,e.forEach(e=>{let{timing:a}=e;n[e.category]=n[e.category].concat([a]),e.isDeferred&&(n.script_deferred=n.script_deferred.concat([a])),e.isExternal&&(n.external=n.external.concat([a])),e.isVisuallyCompleteRequired&&(n.visually_complete=n.visually_complete.concat([a]));let{requestStart:i,startTime:o,responseEnd:s}=a,l=i||o;t.forEach(e=>{let{start:t,end:n}=r[e];l>=t&&l<n?r[e].count+=1:l<t&&s>t&&(r[e].count+=1)})})}let a={...g("concurrentRequests.",Object.keys(r).reduce((e,t)=>e={...e,[t]:(0,o.cC)(r[t].count)},{}))};return{...Object.keys(n).reduce((e,t)=>({...e,...g(`resource.${t}.`,(e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{...(e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:r,responseEnd:n})=>{let a=t||e;return{startTime:e,requestStart:a,responseStart:r||a,responseEnd:n}}),r=m(t.map(e=>e.requestStart-e.startTime)),n=m(t.map(e=>e.responseStart-e.requestStart)),a=m(t.map(e=>e.responseEnd-e.responseStart)),i=m(e.map(e=>e.decodedBodySize||0)),s=m(e.map(e=>e.encodedBodySize||0)),l=m(e.map(e=>e.transferSize||0));return{decodedBodySize:(0,o.cC)(_(i)),encodedBodySize:(0,o.cC)(_(s)),transferSize:(0,o.cC)(_(l)),"duration.all":(0,o.cC)(r+n+a),"duration.requestStartToResponseStart":(0,o.cC)(n),"duration.responseStartToResponseEnd":(0,o.cC)(a),"duration.startToRequestStart":(0,o.cC)(r)}})(t),"count.completed":(0,o.cC)(t.length)}:{},"count.all":(0,o.cC)(e.length)}})(n[t]))}),a)}})(u),...c(t,S.getExperimentGroup),...f(d,S,a,e,l),...((e,t)=>{let{navigator:r}=window,{serviceWorker:n}=r,{surface:a,navigationType:l,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:c}=(0,s.v2)();return{...c.length?{"longTask.count":(0,o.cC)(c.length),"longTask.maxDuration":(0,o.cC)(Math.max(...c)),"longTask.totalDuration":(0,o.cC)(m(c))}:{},cumulativeLayoutShiftScore:(0,o.cC)(100*p),"masonry.paginationMarkCount":(0,o.cC)((0,i.Ao)(i.at,t)),"metricId.isAuthenticated":(0,o.qr)(d),"metricId.navigationType":(0,o.sk)(l),"metricId.surface":(0,o.sk)(a),resourceBufferClearedCount:(0,o.jy)((0,i.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,o.qr)((0,i.BA)("scrollDuringLayout",t)),serviceWorker:(0,o.qr)(n?!!n.controller:null),serviceWorkerState:(0,o.sk)(n?.controller?.state||null)}})(d,h),...y?{"navTiming.workerFinalSourceType":(0,o.sk)(y.workerFinalSourceType||null),"navTiming.workerMatchedSourceType":(0,o.sk)(y.workerMatchedSourceType||null)}:{},...((e,t)=>{if(!["HOME_FEED_PINTERACTIVE","HOME_FEED_RENDER","initial_page_load_auth_pin","PIN_CLOSEUP_DETAILS","STORY_PIN_CLOSEUP","PIN_PAGE_INTERACTIVE","client_route_push_unauth_pin"].includes(e.surface))return{};let r=(0,p.H)()??"",a=(0,n.$A)(r);if(!a)return{};let i={},{info:s}=console;return Object.keys(a).forEach(e=>{a[e]&&(i[`renderMetricsCount.${e}`]=(0,o.cC)(a[e].renderCount),i[`renderMetricsTiming.${e}`]=(0,o.cC)(100*a[e].totalRenderTime))}),"enabled"===t("perf_profiler_logs")&&s(`RPM - PWT Complete [${e.surface}], binary annotations:`,i),(0,n._J)(r),i})(d,S.getExperimentGroup)})},933839:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(642058);let a=()=>{let[e]=n.Z?n.Z.getEntriesByType("navigation"):[];return e}},856516:(e,t,r)=>{r.d(t,{i:()=>n,p:()=>a});let n=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),r=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(r))return"script";if("css"===r)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(r))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(r))return"image";return"other"}}},a=(e,t)=>{let r=n(e),{name:a}=e;return{category:r,isDeferred:"script"===r&&(e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),r=document&&document.querySelector(`script[src='${t}']`);return!!r&&r.hasAttribute("defer")})(a),isExternal:["pinimg","pinterest","pinterdev"].every(e=>!a.includes(`${e}`)),isVisuallyCompleteRequired:"image"===r&&t.includes(a),timing:e}}},48756:(e,t,r)=>{r.d(t,{Z:()=>S,C:()=>h});var n=r(338850),a=r(762797),i=r(582082),o=r(150739),s=r(535768);let l=null;var d=r(141107),p=r(933839),c=r(286272),u=r(896514);let _=({span:e,timeOrigin:t})=>{let r,n;return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:(r=e.annotationMap,Object.keys(r).reduce((e,n)=>{let a=r[n];return a?{...e,[n]:{timestamp:t+a}}:e},{})),binary_annotations:Object.keys(n=e.binaryAnnotationMap).reduce((e,t)=>{let r=n[t];if(!r)return e;let{value:a,type:i}=r;return null==a?e:e.concat({name:t,value:a,annotation_type:i})},[])}},m=(e,t)=>({...e,annotations:{...(({annotations:e})=>e.reduce((e,{key:t,timestamp:r})=>({...e,[`server_${t}`]:{timestamp:r}}),{}))(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]});var g=r(992114);let f=(0,o.XV)("reportResult"),h=({resultReason:e,resultLog:t,annotateExperiments:r,getExperimentGroup:n,options:a})=>{[...new Set(r)].forEach(r=>{let i=n(r),o=e?t.concat(`.${e}`):t;if(i){let e=`.experiment.${r}.${i}`;(0,s.A9)(`${o}${e}`,a)}})};function S({metricId:e,pwtStaticContext:t,result:r,isAuth:o,isV4Logger:S=!1,annotateExperiments:y}){let v,{serverData:w}=t;if(S){let{surface:t}=e;v=t}else v=(0,i.KJ)(e);let k=`${r.type}.${v}`,T=void 0!==o&&{tags:{isAuth:o}}||void 0;(0,s.A9)(r.reason?k.concat(`.${r.reason}`):k,T),y&&h({resultReason:r.reason,resultLog:k,annotateExperiments:y,getExperimentGroup:t.getExperimentGroup,options:T});let E=`${r.type}.${v}`;a.is||((0,g.S0)(`${E}.spans`,r.spans.length,{sampleRate:1}),(0,g.S0)(`${E}.annotations`,Object.keys(r.annotationMap).length,{sampleRate:1})),"COMPLETE"!==r.type&&f(`Abort metric ${v}`,r);let b=window.performance?.now?Date.now()-window.performance.now():"unknown";if("unknown"===b){f(`Unable to convert to absolute times for ${v} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${v}`,T);return}if(a.is&&(window.PWT_LAB_DATA=((l=l||{results:[],context:t}).results.push(r),l)),r.spans.length&&(r.spans=r.spans.map(e=>(e.parentId||e.id===r.traceId||"network_resources"===e.name||(e.parentId=r.traceId),e))),!a.is){let i=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=r,s=JSON.stringify((({traceId:e,actionName:t,result:r,timeOrigin:n,serverDataToJoin:a})=>{let i=_({span:((e,{startTime:t,endTime:r,annotationMap:n,binaryAnnotationMap:a,parentId:i,traceId:o})=>({name:`pwt/${e}`,startTime:t,endTime:r,annotationMap:n,binaryAnnotationMap:a,parentId:i,id:o}))(t,r),timeOrigin:n}),o=null;return a&&(i=m(i,a),o=((e,t,r)=>{let n=(0,p.Z)();return n?.responseEnd?m(_({span:{name:"html",startTime:0,endTime:n?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,d.sk)((0,u.Z)("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,c.Z)(),parentId:t},timeOrigin:r}),e):null})(a,e,n)),{trace_id:e,type:r.type,spans:[i,...o?[o]:[],...r.spans.map(e=>_({span:e,timeOrigin:n}))]}})({traceId:o,actionName:v,result:r,timeOrigin:b,serverDataToJoin:i&&w||null}));a.is||(0,g.S0)(`${E}.size`,s.length,{sampleRate:1}),(0,n.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:s,report_context:JSON.stringify({debugTrace:a.eD,locale:t.locale,stageName:t.stageName})}}),f(`PinTrace ${v} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o}`,{duration:r.endTime-r.startTime,result:r,pwtStaticContext:t})}}},632712:(e,t,r)=>{r.d(t,{Z:()=>n});let n=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0,workerCacheLookupStart:e.workerCacheLookupStart||0,workerRouterEvaluationStart:e.workerRouterEvaluationStart||0})},479288:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(141107),a=r(632712),i=r(286272);function o(e,t){let{category:r,timing:o,isDeferred:s,isExternal:l,isVisuallyCompleteRequired:d}=e;if(!o.responseEnd||"image"===r&&!d)return null;let p=!1,c=o.serverTiming?.find(e=>"spanId"===e.name)?.description;return c||(p=!0),{name:(({category:e,isDeferred:t,isExternal:r})=>[e].concat(t?["deferred"]:[]).concat(r?["external"]:[]).join("_"))(e),id:c||(0,i.Z)(),parentId:t,startTime:o.startTime,endTime:o.responseEnd,annotationMap:(0,a.Z)(o),binaryAnnotationMap:{isRandomSpanId:(0,n.qr)(p),category:(0,n.sk)(r),decodedBodySize:(0,n.cC)(o.decodedBodySize||0),initiatorType:(0,n.sk)(o.initiatorType),isDeferred:(0,n.qr)(s),isExternal:(0,n.qr)(l),name:(0,n.sk)(o.name),nextHopProtocol:(0,n.sk)(o.nextHopProtocol),transferSize:(0,n.cC)(o.transferSize||0),workerFinalSourceType:(0,n.sk)(o.workerFinalSourceType),workerMatchedSourceType:(0,n.sk)(o.workerMatchedSourceType)}}}},777344:(e,t,r)=>{r.d(t,{UQ:()=>p,Ux:()=>l,on:()=>o,v2:()=>d});var n=r(808771),a=r(387260);let i={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},o=()=>{i.longTaskDurations=[]},s=(0,n.Z)(()=>[]),l=e=>{e&&s.save(),i.elementTimings=[]},d=()=>i,p=()=>{(0,a.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>i.longTaskDurations.push(e.duration))},()=>o()),(0,a.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),r=t.length,n=t[r-1];n&&(i.largestContentfulPaint=n.renderTime||n.loadTime||null)}),(0,a.Z)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(i.cumulativeLayoutShiftScore+=e.value)})})}},808771:(e,t,r)=>{r.d(t,{Z:()=>n});let n=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},387260:(e,t,r)=>{r.d(t,{Z:()=>n});let n=(e,t,r)=>{if(!window.PerformanceObserver)return null;try{let n=new window.PerformanceObserver(t);return n.observe(e),window.addEventListener("beforeunload",()=>{n.disconnect()}),r&&window.addEventListener("popstate",()=>{r()}),n}catch(e){return null}}},331118:(e,t,r)=>{r.d(t,{Cg:()=>u,Eg:()=>_,Hv:()=>m,LH:()=>d,MM:()=>g});var n=r(762797),a=r(535768),i=r(17433),o=r(856516),s=r(808771),l=r(896514);let d=()=>({defaultBufferSize:(0,l.Z)("resource").length}),p=()=>(0,l.Z)("resource"),c=(0,s.Z)(p),u=p,_=e=>{e&&c.save(),(0,a.A9)("resourceBufferSize",{count:(0,l.Z)("resource").length}),window.performance&&window.performance.clearResourceTimings&&((0,i.ZP)("resourceBufferCleared"),n.DQ&&console.info("Warning: Clearing resource timings in default buffer."),window.performance.clearResourceTimings())},m=(e,t=!0)=>{let r,n=0,i=0,s=(r=e.filter(e=>t?"image"===(0,o.i)(e)&&(e.responseEnd||(n+=1),e.transferSize||(i+=1),!!e.responseEnd&&!!e.transferSize):!!e.responseEnd&&!!e.transferSize).map(e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3)).length?r.reduce((e,t)=>e+t,0)/r.length:null;return t&&(n>0&&(0,a.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,a.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),s},g=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},896514:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/80347-f4469d12cd4a86d2.mjs.map
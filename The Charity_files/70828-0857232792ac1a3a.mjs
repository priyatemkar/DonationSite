"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[70828],{902389:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(94183),l=i(890167),r=i(785893);function s({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:n,...d}){return(0,r.jsx)(l.Z,{appUpsellFooterConfig:t,hideOnScroll:d.hideOnScroll,navFooterConfig:n?.scrollConfig,children:l=>(0,r.jsx)(o.Z,{...d,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:n},hideOnScrollState:l,type:"footer"})})}},52157:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e,t){let i;if(e.error){let{httpStatus:o,api_error_code:l,redirectUrl:r}=e.error;(404===o||401===o&&7===l)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===o&&r&&(i={pathname:r})}return i}},810139:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(741594),l=i(292643);function r(e){let{enabledRouteRefresh:t,headers:i,name:r,noCache:s,options:n,schema:d}=e??{name:o.fY,options:null},a=!e,{fetchResource:c,ref:_,fetchMore:u,isFetching:h,isLoaded:p,isRefreshing:x,refresh:b}=(0,l.Z)({enabledRouteRefresh:t,headers:i,name:r,noCache:s,options:n,schema:d},a,!1);return a||c(),{ref:_,fetchMore:u,isFetching:h,isLoaded:p,isRefreshing:x,refresh:b}}},42450:(e,t,i)=>{i.d(t,{Z:()=>d});var o=i(616550),l=i(890360),r=i(52157),s=i(113474),n=i(882368);function d(e){let t=(0,o.k6)(),i=(0,o.TH)(),{isAuth:d}=(0,n.Z)(),a=!d&&(0,l.L6)(i),c=(0,s.Z)(e),_=(0,r.Z)(c,a);return _&&t.replace(_.pathname,_.state),c}},643767:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(20256),l=i(233846),r=i(540547),s=i(864339),n=i(320172),d=i(824879),a=i(785893);function c(e){let t=(0,l.ZP)(),{backButtonIcon:i,errorMessage:c,name:_,onNextButtonTouch:u,onNameChange:h,selectedPinIds:p=[],useRoundedCorners:x}=e,b=p.length>0?130:64;return(0,a.jsxs)(s.default,{hasFixedHeader:!0,children:[(0,a.jsxs)(r.default,{height:b,paddingY:3,useRoundedCorners:x,children:[(0,a.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,a.jsx)(d.Z,{color:"darkGray",icon:i||"cancel",padding:3,size:"sm"}),(0,a.jsx)(o.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,a.jsx)(o.xu,{"data-test-id":"create-section-button",children:(0,a.jsx)(o.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===_.trim(),onClick:u,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),p&&(0,a.jsx)(n.Z,{selectedPinIds:p})]}),(0,a.jsx)(o.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,a.jsx)(o.nv,{errorMessage:c||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>h(e.event),size:"lg",value:_})})]})}},638938:(e,t,i)=>{i.d(t,{Z:()=>x});var o=i(667294),l=i(545007),r=i(20256),s=i(233846),n=i(113474),d=i(882368),a=i(697445),c=i(284472),_=i(751102),u=i(615010),h=i(990283),p=i(785893);function x({excludeBoardId:e,hideSectionPickerList:t,onRepin:i}){var x;let b=(0,s.ZP)(),g=(0,d.Z)(),f=(x=g.isAuth?g.username:"",(0,n.Z)({name:"BoardsResource",options:c.O.options({username:x,boardOrder:"custom",filterStories:!0,mixPublicSecret:!0})}),(0,l.v9)(e=>(0,_.Z)(e)||[])),[m,j]=(0,o.useState)(null);return f.length>0&&(m&&!t?(0,p.jsx)(h.Z,{boardId:m?.id,repin:(e,t)=>{m&&i(m,t)},showSectionRep:!0}):(0,p.jsxs)(r.xu,{"data-test-id":"board-picker-row-container",children:[(0,p.jsx)(r.xu,{marginTop:3,children:(0,p.jsx)(r.xv,{children:b._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,p.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${a.T}px`}},paddingY:3,children:f.filter(t=>t.id!==e).map(e=>(0,p.jsx)(u.Z,{boardId:e.id,onBoardSelected:o=>((e,o)=>{if(!t&&e&&o)return void j(o);i(o)})(o,e)},e.id))})]}))}},720606:(e,t,i)=>{i.d(t,{Wx:()=>w,ZP:()=>z});var o=i(667294),l=i(545007),r=i(616550),s=i(20256),n=i(231333),d=i(233846),a=i(902389),c=i(540547),_=i(864339),u=i(339908),h=i(697445),p=i(638938),x=i(320172),b=i(20561),g=i(782677),f=i(578373),m=i(801393),j=i(890452);let P=e=>t=>{let{source:i,target:o,pinIds:l}=e;if(t({type:"PINS_MOVE",payload:e}),i.boardlessPins||o.boardId!==i.boardId){let e={board_id:o.boardId,pin_ids:l,section_id:o.sectionId};return f.Z.create("BulkEditResource",e).callUpdate()}if(o.sectionId){let e={section_id:o.sectionId,pins:l},i="BoardSectionEditResource";return f.Z.create(i,e).callUpdate().then(o=>{let l=(0,g.Fv)(o.resource_response.data,j.Z[i]);return t((0,m.XM)(i,e,o,l)),o})}let r={section_id:i.sectionId,pins:l};return f.Z.create("BoardSectionPinsResource",r).callDelete()};var y=i(199354),S=i(824879),v=i(990283),A=i(785893);function Z(e,t,i){return e?i._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?i._('Saved to section!', ' - ', ' -- '):i._('Saved to board!', ' - ', ' -- ')}function w({onAddNewSection:e,useIconWithBackground:t}){let i=(0,d.ZP)();return(0,A.jsx)(a.Z,{alignCenter:t,height:t?h.y:h.T,children:(0,A.jsx)(b.Z,{onTouch:e,pressState:"none",children:(0,A.jsxs)(s.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:+!t,children:[t?(0,A.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,A.jsx)(s.JO,{accessibilityLabel:i._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,A.jsx)(s.JO,{accessibilityLabel:i._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),t?(0,A.jsx)(s.xu,{marginStart:2,children:(0,A.jsx)(s.xv,{size:"400",weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,A.jsx)(s.xu,{marginStart:3,children:(0,A.jsx)(s.xv,{weight:"bold",children:i._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class I extends o.PureComponent{constructor(...e){var t,i,o;super(...e),t="onRepinToBoard",i=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{boardId:e,boardSectionId:t,orginalBoardId:i,onAddNewSection:o,repin:l,hideBoardPickerRow:r,selectedPinIds:n,isCollaborative:d}=this.props,a=i===e;return(0,A.jsxs)(_.default,{hasFixedHeader:!0,children:[(0,A.jsxs)(c.default,{hasBorder:!0,height:140,children:[(0,A.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,A.jsx)(s.xu,{column:2,children:(0,A.jsx)(S.Z,{})}),(0,A.jsx)(s.xu,{column:8,children:(0,A.jsx)(s.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,A.jsx)(s.xu,{column:2})]}),(0,A.jsx)(x.Z,{selectedPinIds:n})]}),e&&(0,A.jsx)(v.Z,{boardId:e,hideBoardPickerRow:a&&r,originalBoardId:i,repin:l,sectionId:t}),a&&(0,A.jsxs)(s.xu,{children:[!d&&(0,A.jsx)(p.Z,{excludeBoardId:e,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,A.jsx)(w,{onAddNewSection:o})]})]})}}let z=function(e){let{inSelectAll:t,pinIds:i,orginalBoardId:o,boardSectionId:s,onRefreshBoardSection:a,url:c}=e,{showToast:_}=(0,u.dI)(),h=(0,d.ZP)(),p=(0,r.k6)(),x=(0,l.I0)(),b=async(e,l,r)=>{let d=l&&l.id,u={boardId:o,sectionId:s},h={boardId:e,sectionId:d},b=t?(0,y.Z)({source:u,target:h,excludePinIds:i}):P({source:u,target:h,pinIds:i});o!==e?(await x(b),p.push({pathname:c})):(await x(b),a&&await a()),_(({hideToast:e})=>(0,A.jsx)(n.Z,{onHide:e,text:Z(t,d,r)}))},g=async(e,l)=>{let r={boardId:o,sectionId:s},d={boardId:e,sectionId:void 0};_(({hideToast:e})=>(0,A.jsx)(n.Z,{onHide:e,text:Z(t,void 0,l)})),await x(t?(0,y.Z)({source:r,target:d,excludePinIds:i}):P({source:r,target:d,pinIds:i})),p.go(-2)};return(0,A.jsx)(I,{...e,i18n:h,repin:b,repinToOtherBoard:g})}},320172:(e,t,i)=>{i.d(t,{Z:()=>d});var o=i(667294),l=i(20256),r=i(233846),s=i(903683),n=i(785893);function d({selectedPinIds:e}){let t=(0,r.ZP)(),i=(0,o.useRef)(null),d=(0,s.JC)(),a=(e||[]).map(e=>d[e]).filter(Boolean);(0,o.useEffect)(()=>{let e=i.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[a]);let c=a.map((e,i)=>{let{description:o,images:r}=e,s=r?.["236x"];return(0,n.jsx)(l.xu,{marginEnd:1,children:(0,n.jsx)(l.zd,{height:65,rounding:2,wash:!0,width:50,children:s?.url&&(0,n.jsx)(l.Ee,{alt:!!o?.trim()&&o?.trim()||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:e.dominant_color??"",fit:"contain",naturalHeight:s?.height??1,naturalWidth:s?.width??1,src:s.url})})},i)});return(0,n.jsx)(l.xu,{ref:i,display:"flex",marginTop:2,overflow:"scroll",children:c})}},697445:(e,t,i)=>{i.d(t,{T:()=>o,y:()=>l});let o=70,l=80},492424:(e,t,i)=>{function o(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function l(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}i.d(t,{HG:()=>l,OQ:()=>r,hd:()=>o});let r=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},508095:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(782677),l=i(578373),r=i(801393),s=i(492424),n=i(312702),d=i(890452),a=i(875202);let c=(e,t,i,c)=>_=>{let u={board_id:e,initial_pins:t,name:i},h="BoardSectionResource";return l.Z.create(h,u).callCreate().then(i=>{let l=i.resource_response.data,p=(0,o.Fv)(l,d.Z[h]);return c({event_type:7100,object_id_str:l.id}),_((0,r.XM)(h,u,i,p)),_((0,s.hd)(e,l)),_((0,n.vX)({feedId:e,feedType:a.Z.BOARD_SECTIONS,itemIds:[l.id],itemType:"boardsection"})),t.length&&_({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:l.id},pinIds:t}}),i})}},199354:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(578373);let l=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:i,target:l,excludePinIds:r}=e,s={board_id:i.boardId,new_board_id:l.boardId,pin_ids:r,old_section_id:i.sectionId,new_section_id:l.sectionId};return o.Z.create("BulkEditSelectAllResource",s).callUpdate()}},751102:(e,t,i)=>{i.d(t,{Z:()=>o});let o=(0,i(442279).P1)(({users:e,boards:t,session:i})=>{let o=e[i.userId]||null;return Object.keys(t).reduce((e,i)=>{let l=t[i];return!l.archived_by_me_at&&(l.owner?.id===o?.id||l.collaborating_users&&l.collaborating_users.map(({id:e})=>e).includes(o?.id))&&l.cover_images?e.concat([l]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},615010:(e,t,i)=>{i.d(t,{Z:()=>c});var o=i(545007),l=i(20256),r=i(233846),s=i(51340),n=i(683829),d=i(423632),a=i(785893);function c({boardId:e,onBoardSelected:t,noArrowIcon:i,showSingleBoardRep:c}){let _=(0,r.ZP)(),u=(0,o.v9)(({boards:e})=>e)[e],h=u.section_count,p=!!h&&h>0,x=(0,n.Z)(),b=u.name??"this board";return(0,a.jsx)(l.iP,{accessibilityLabel:(0,s.Wc)(`${_._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:b}),onTap:x({fn:()=>t(p)}),rounding:2,tapStyle:"compress",children:(0,a.jsx)(d.Z,{boardId:e,noArrowIcon:i,showSingleBoardRep:c})})}},990283:(e,t,i)=>{i.d(t,{Z:()=>p});var o=i(545007),l=i(616550),r=i(20256),s=i(233846),n=i(42450),d=i(63500),a=i(615010),c=i(51340),_=i(20561),u=i(785893);function h({onSectionSelected:e,sectionId:t,showSectionRep:i}){let l=(0,o.v9)(({boardsections:e})=>e[t]),n=(0,s.ZP)(),d=l&&l.preview_pins?.[0]&&l.preview_pins[0].image_medium_url,a=l?.title??"";return(0,u.jsx)(_.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,u.jsxs)(r.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!i,rounding:2,children:[i&&(0,u.jsx)(r.xu,{height:48,width:51,children:(0,u.jsx)(r.zd,{height:"100%",rounding:2,width:"100%",children:d&&(0,u.jsx)(r.Ee,{alt:(0,c.Wc)(n._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:a}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:d})})}),!i&&(0,u.jsx)(r.xu,{column:1,paddingY:2}),(0,u.jsx)(r.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:i?(0,u.jsx)(r.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,u.jsx)(r.xv,{lineClamp:1,size:"400",weight:"bold",children:l?.title})}):(0,u.jsx)(r.xu,{marginStart:2,children:(0,u.jsx)(r.xv,{weight:"bold",children:l?.title})})})]})})}function p({boardId:e,originalBoardId:t,sectionId:i,repin:c,hideBoardPickerRow:_,showSectionRep:p}){let x=(0,s.ZP)(),{isFetching:b,boardSections:g,filteredBoardSections:f}=((e,t)=>{let{isFetching:i}=(0,n.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),l=(0,o.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let i={type:"boardsection",id:t.id};e.push(i)}return e},[])),r=(0,o.v9)(i=>l.map(e=>e.id).reduce((o,l)=>{let r=i.boardsections[l??""];return l!==t&&r&&o.push({board:{id:e},id:r.id,title:r.title,type:"boardsection",slug:r.slug}),o},[]));return{isFetching:i,boardSections:l,filteredBoardSections:r}})(e,i),m=(0,l.k6)(),j=(0,d.gC)()(t||"");return(0,u.jsxs)(r.xu,{children:[g.length>0&&(0,u.jsxs)(r.xu,{paddingY:3*!p,children:[p&&(0,u.jsx)(r.xu,{paddingY:2,children:(0,u.jsx)(r.xu,{marginBottom:2,children:(0,u.jsx)(r.X6,{accessibilityLevel:3,size:"300",children:(0,u.jsx)(r.xv,{inline:!0,children:x._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})})}),!_&&(0,u.jsx)(a.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>c(e,void 0,x),showSingleBoardRep:p},e),p&&(0,u.jsx)(r.xu,{paddingY:4,children:(0,u.jsx)(r.X6,{accessibilityLevel:3,size:"300",children:(0,u.jsx)(r.xv,{inline:!0,children:x._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})})}),f.map(i=>(0,u.jsx)(h,{onSectionSelected:()=>{c(e,i,x),t&&m.push(j?.url??"")},sectionId:i.id??"",showSectionRep:p},i.id))]}),(0,u.jsx)(r.xH,{accessibilityLabel:x._('Loading board section for repin flow', ' - ', ' -- '),show:b})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/70828-0857232792ac1a3a.mjs.map